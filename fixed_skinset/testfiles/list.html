<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:a="http://ajax.org/2005/aml" >
    <head>
        <title>Caldropdown Gen API</title>
        
        <script src="trunk/apf.js"></script>
    </head>
    <body>
        <a:skin src="skins.xml" media-path="images/" icon-path="icns/" />
        
        
        <!--a:model id="mdlSuggestions">
            <suggestions>
                <question key="krant">
                    <answer>Suggestion 1</answer>
                    <answer>Suggestion 2</answer>
                </question>
            </suggestions>
        </a:model>
        <a:label>Which newspapers do you read?</a:label>
        <a:list ref="krant" 
          more  = "caption:Add new suggestion" 
          model = "[mdlSuggestions::question[@key='krant']]">
            <a:bindings>
                <a:caption match="[text()]" />
                <a:value match="[text()]" />
                <a:each match="[answer]" />
            </a:bindings>
            <a:actions>
                <a:rename match="[node()[@custom='1']]" />
                <a:remove match="[node()[@custom='1']]" />
                <a:add>
                    <answer custom="1">New Answer</answer>
                </a:add>
            </a:actions>
        </a:list-->
       
        
        <!--a:bar>
            <h1>Search for a product</h1>
            <a:textbox id="txtSearch" selectfocus="true" />
            <a:button onclick="search()" default="true">Search</a:button>
        </a:bar>
        
        <a:model id="mdlSearch">
            <data>
                <item title="Title 1" src="siteimg/slideshow_img/img1_small.jpg" descr="Descr 1"></item>
                <item title="Title 2" src="siteimg/slideshow_img/img2_small.jpg" descr="Descr 2"></item>
            </data>
        </a:model>
      
        <a:list 
          model         = "mdlSearch"
          autoselect    = "false" 
          skin          = "thumbnail" 
          width         = "400"
          height        = "400"
          caching       = "false" 
          empty-message = "No products found">
            <a:bindings>
                <a:caption match="[@title]" />
                <a:image match="[@src]" />
                <a:each match="[item]" />
            </a:bindings>
        </a:list>
      
        <a:script>
            function search(){
                mdlSearch.$loadFrom("http://localhost/search.php?keyword=" + txtSearch.getValue());
            }
        </a:script-->
         
        
        
        
        <!--a:model id="mdlList">
            <data>
                <item date="2009-11-12" deleted="0"></item>
                <item date="2009-11-11" deleted="0"></item>
                <item date="2009-11-10" deleted="0"></item>
                <item date="2009-11-09" deleted="1"></item>
                <item date="2009-11-08" deleted="1"></item>
            </data>
        </a:model>
        <a:list id="list" width="200" height="200" model="mdlList">
            <a:bindings>
                <a:caption match="[@date]" />
                <a:each match="[item[not(@deleted='1')]]" />
            </a:bindings>
        </a:list-->
        
        <!--a:list model="friends.xml" each="[friend]" caption="[@name]" /-->
        
        <!--a:list multiselect="false">
           <a:item>The Netherlands</a:item>
           <a:item>United States of America</a:item>
           <a:item>United Kingdom</a:item>
       </a:list-->
        
        
        <!--a:list width="600" height="600">
            <a:contextmenu menu="mnuRoot" select="root" />
            <a:contextmenu menu="mnuItem" />
        </a:list-->
        
        
        <!--a:model id="mdlList">
            <data>
                <item date="2009-11-12" deleted="0"></item>
                <item date="2009-11-11" deleted="0"></item>
                <item date="2009-11-10" deleted="0"></item>
                <item date="2009-11-09" deleted="1"></item>
                <item date="2009-11-08" deleted="1"></item>
            </data>
        </a:model>
        <a:list id="list" width="200" height="200" model="mdlList">
            <a:bindings>
                <a:caption match="[@date]" />
                <a:each match="[item[not(@deleted='1')]]" />
            </a:bindings>
        </a:list-->

        <!--a:model id="mdlList">
            <data>
                <item date="2009-11-12" deleted="0"></item>
                <item date="2009-11-11" deleted="0"></item>
                <item date="2009-11-10" deleted="1"></item>
                <item date="2009-11-09" deleted="1"></item>
                <item date="2009-11-08" deleted="1"></item>
            </data>
        </a:model>
        <a:bindings id="bndFolders" >
            <a:caption match="[@date]" />
            <a:icon match="[@icon]" />
            <a:each match="[item]" sort="[@date]" />
        </a:bindings>
        <a:list id="list" width="200" height="200" model="mdlList" bindings="bndFolders" /-->

        
        
        <!--a:model id="mdlList">
            <data>
                <item date="2009-11-12" deleted="0"></item>
                <item date="2009-11-11" deleted="0"></item>
                <item date="2009-11-10" deleted="1"></item>
                <item date="2009-11-09" deleted="1"></item>
                <item date="2009-11-08" deleted="1"></item>
            </data>
        </a:model>
        <a:list id="list" width="200" height="200" model="mdlList">
            <a:each match="[item]" sort="[@date]" sort-method="sth_compare">
                <a:caption match="[@date]" />
            </a:each>
            <a:script>
                function sth_compare(value, args, xmlNode) {
                   alert(value);
                   //Sort all folders together and all files and then sort on alphabet.
                   return (xmlNode.tagName == "folder" ? 0 : 1) + value;
                }
            </a:script>
        </a:list-->

 <!--       <a:list>
       <a:bindings>
           ...
           <a:each select="mail[not(@deleted='1')]" />
       </bindings>
   </a:list>-->
        
        <a:model id="mdlList">
            <data>
                <item date="2009-11-12"></item>
                <item date="2009-11-11"></item>
                <item date="2009-11-10"></item>
                <item date="2009-11-09"></item>
                <item date="2009-11-08"></item>
            </data>
        </a:model>
        <a:list width="200" height="200" model="mdlList" skin="listtab">
            <a:each match="[item]">
                <a:caption match="[@date]" /> 
            </a:each>
        </a:list>
    </body>
</html>
